//
// mime_types.cpp
// ~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2015 Christopher M. Kohlhoff (chris at kohlhoff dot com)
// Copyright (c) 2016 Vladimir Voinea (voineavladimir@gmail.com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#include "mime_types.hpp"
#include <memory>
#include <stdio.h>
#include <unordered_map>

namespace http {
namespace server {
namespace mime_types {

static std::unordered_map<std::string, std::string> mappings{
    {"scm", "application/vnd.lotus-screencam"},
    {"mny", "application/x-msmoney"},
    {"dist", "application/octet-stream"},
    {"gv", "text/vnd.graphviz"},
    {"roa", "application/rpki-roa"},
    {"cdf", "application/x-netcdf"},
    {"edm", "application/vnd.novadigm.edm"},
    {"otp", "application/vnd.oasis.opendocument.presentation-template"},
    {"mp4", "video/mp4"},
    {"woff", "application/x-font-woff"},
    {"mp3", "audio/mpeg"},
    {"edx", "application/vnd.novadigm.edx"},
    {"scq", "application/scvp-cv-request"},
    {"scs", "application/scvp-cv-response"},
    {"osf", "application/vnd.yamaha.openscoreformat"},
    {"wmz", "application/x-msmetafile"},
    {"ots", "application/vnd.oasis.opendocument.spreadsheet-template"},
    {"zmm", "application/vnd.handheld-entertainment+xml"},
    {"ott", "application/vnd.oasis.opendocument.text-template"},
    {"tr", "text/troff"},
    {"wmv", "video/x-ms-wmv"},
    {"vcard", "text/vcard"},
    {"mwf", "application/vnd.mfer"},
    {"mpkg", "application/vnd.apple.installer+xml"},
    {"fh5", "image/x-freehand"},
    {"fh4", "image/x-freehand"},
    {"wma", "audio/x-ms-wma"},
    {"wmf", "application/x-msmetafile"},
    {"wmd", "application/x-ms-wmd"},
    {"vxml", "application/voicexml+xml"},
    {"mpe", "video/mpeg"},
    {"g3", "image/g3fax"},
    {"mpc", "application/vnd.mophun.certificate"},
    {"lrf", "application/octet-stream"},
    {"mpn", "application/vnd.mophun.application"},
    {"mpm", "application/vnd.blueice.multipass"},
    {"lrm", "application/vnd.ms-lrm"},
    {"rl", "application/resource-lists+xml"},
    {"mpt", "application/vnd.ms-project"},
    {"jisp", "application/vnd.jisp"},
    {"smf", "application/vnd.stardivision.math"},
    {"mpy", "application/vnd.ibm.minipay"},
    {"cml", "chemical/x-cml"},
    {"trm", "application/x-msterminal"},
    {"tra", "application/vnd.trueapp"},
    {"eva", "application/x-eva"},
    {"hbci", "application/vnd.hbci"},
    {"f", "text/x-fortran"},
    {"cmc", "application/vnd.cosmocaller"},
    {"dll", "application/x-msdownload"},
    {"fhc", "image/x-freehand"},
    {"thmx", "application/vnd.ms-officetheme"},
    {"pbd", "application/vnd.powerbuilder6"},
    {"aas", "application/x-authorware-seg"},
    {"gqf", "application/vnd.grafeq"},
    {"pbm", "image/x-portable-bitmap"},
    {"mp2", "audio/mpeg"},
    {"tmo", "application/vnd.tmobile-livetv"},
    {"kpxx", "application/vnd.ds-keypoint"},
    {"dir", "application/x-director"},
    {"distz", "application/octet-stream"},
    {"tei", "application/tei+xml"},
    {"mcurl", "text/vnd.curl.mcurl"},
    {"odp", "application/vnd.oasis.opendocument.presentation"},
    {"htm", "text/html"},
    {"ods", "application/vnd.oasis.opendocument.spreadsheet"},
    {"uvvz", "application/vnd.dece.zip"},
    {"tex", "application/x-tex"},
    {"odi", "application/vnd.oasis.opendocument.image"},
    {"odm", "application/vnd.oasis.opendocument.text-master"},
    {"pml", "application/vnd.ctc-posml"},
    {"oda", "application/oda"},
    {"odb", "application/vnd.oasis.opendocument.database"},
    {"odc", "application/vnd.oasis.opendocument.chart"},
    {"cfs", "application/x-cfs-compressed"},
    {"odf", "application/vnd.oasis.opendocument.formula"},
    {"odg", "application/vnd.oasis.opendocument.graphics"},
    {"bdf", "application/x-font-bdf"},
    {"sub", "text/vnd.dvb.subtitle"},
    {"xop", "application/xop+xml"},
    {"bdm", "application/vnd.syncml.dm+wbxml"},
    {"rtx", "text/richtext"},
    {"dcurl", "text/vnd.curl.dcurl"},
    {"ms", "text/troff"},
    {"sus", "application/vnd.sus-calendar"},
    {"u32", "application/x-authorware-bin"},
    {"abw", "application/x-abiword"},
    {"mng", "video/x-mng"},
    {"ggt", "application/vnd.geogebra.tool"},
    {"asx", "video/x-ms-asf"},
    {"install", "application/x-install-instructions"},
    {"cxx", "text/x-c"},
    {"sfd-hdstx", "application/vnd.hydrostatix.sof-data"},
    {"xspf", "application/xspf+xml"},
    {"les", "application/vnd.hhe.lesson-player"},
    {"z8", "application/x-zmachine"},
    {"rlc", "image/vnd.fujixerox.edmics-rlc"},
    {"ggb", "application/vnd.geogebra.file"},
    {"z4", "application/x-zmachine"},
    {"z5", "application/x-zmachine"},
    {"z6", "application/x-zmachine"},
    {"z7", "application/x-zmachine"},
    {"pclxl", "application/vnd.hp-pclxl"},
    {"teacher", "application/vnd.smart.teacher"},
    {"z2", "application/x-zmachine"},
    {"z3", "application/x-zmachine"},
    {"box", "application/vnd.previewsystems.box"},
    {"g2w", "application/vnd.geoplan"},
    {"wdb", "application/vnd.ms-works"},
    {"onepkg", "application/onenote"},
    {"ahead", "application/vnd.ahead.space"},
    {"m3u", "audio/x-mpegurl"},
    {"appcache", "text/cache-manifest"},
    {"rdz", "application/vnd.data-vision.rdz"},
    {"wdp", "image/vnd.ms-photo"},
    {"rdf", "application/rdf+xml"},
    {"jpgm", "video/jpm"},
    {"dra", "audio/vnd.dra"},
    {"maker", "application/vnd.framemaker"},
    {"m3a", "audio/mpeg"},
    {"fbs", "image/vnd.fastbidsheet"},
    {"apr", "application/vnd.lotus-approach"},
    {"txf", "application/vnd.mobius.txf"},
    {"zir", "application/vnd.zul"},
    {"txd", "application/vnd.genomatix.tuxedo"},
    {"sgi", "image/sgi"},
    {"apk", "application/vnd.android.package-archive"},
    {"obj", "application/x-tgif"},
    {"sgm", "text/sgml"},
    {"sgl", "application/vnd.stardivision.writer-global"},
    {"mmd", "application/vnd.chipnuts.karaoke-mmd"},
    {"txt", "text/plain"},
    {"wbmp", "image/vnd.wap.wbmp"},
    {"wsdl", "application/wsdl+xml"},
    {"tcap", "application/vnd.3gpp2.tcap"},
    {"c4u", "application/vnd.clonk.c4group"},
    {"dna", "application/vnd.dna"},
    {"twd", "application/vnd.simtech-mindmapper"},
    {"lwp", "application/vnd.lotus-wordpro"},
    {"chm", "application/vnd.ms-htmlhelp"},
    {"smv", "video/x-smv"},
    {"c4d", "application/vnd.clonk.c4group"},
    {"xfdf", "application/vnd.adobe.xfdf"},
    {"c4f", "application/vnd.clonk.c4group"},
    {"c4g", "application/vnd.clonk.c4group"},
    {"rpss", "application/vnd.nokia.radio-presets"},
    {"msi", "application/x-msdownload"},
    {"msh", "model/mesh"},
    {"setreg", "application/set-registration-initiation"},
    {"msf", "application/vnd.epson.msf"},
    {"pfa", "application/x-font-type1"},
    {"x32", "application/x-authorware-bin"},
    {"wvx", "video/x-ms-wvx"},
    {"pfb", "application/x-font-type1"},
    {"xaml", "application/xaml+xml"},
    {"wml", "text/vnd.wap.wml"},
    {"pfm", "application/x-font-type1"},
    {"fxpl", "application/vnd.adobe.fxp"},
    {"ris", "application/x-research-info-systems"},
    {"t3", "application/x-t3vm-image"},
    {"lasxml", "application/vnd.las.las+xml"},
    {"pfr", "application/font-tdpfr"},
    {"jpg", "image/jpeg"},
    {"flac", "audio/x-flac"},
    {"wbxml", "application/vnd.wap.wbxml"},
    {"pfx", "application/x-pkcs12"},
    {"fh7", "image/x-freehand"},
    {"me", "text/troff"},
    {"flx", "text/vnd.fmi.flexstor"},
    {"ulx", "application/x-glulx"},
    {"ma", "application/mathematica"},
    {"mb", "application/mathematica"},
    {"car", "application/vnd.curl.car"},
    {"der", "application/x-x509-ca-cert"},
    {"cap", "application/vnd.tcpdump.pcap"},
    {"flw", "application/vnd.kde.kivio"},
    {"cat", "application/vnd.ms-pki.seccat"},
    {"fli", "video/x-fli"},
    {"flo", "application/vnd.micrografx.flo"},
    {"xht", "application/xhtml+xml"},
    {"cab", "application/vnd.ms-cab-compressed"},
    {"deb", "application/x-debian-package"},
    {"gqs", "application/vnd.grafeq"},
    {"caf", "audio/x-caf"},
    {"def", "text/plain"},
    {"avi", "video/x-msvideo"},
    {"spx", "audio/ogg"},
    {"xfdl", "application/vnd.xfdl"},
    {"wrl", "model/vrml"},
    {"conf", "text/plain"},
    {"tar", "application/x-tar"},
    {"mpg", "video/mpeg"},
    {"spp", "application/scvp-vp-response"},
    {"spq", "application/scvp-vp-request"},
    {"dxr", "application/x-director"},
    {"dxp", "application/vnd.spotfire.dxp"},
    {"mqy", "application/vnd.mobius.mqy"},
    {"mjp2", "video/mj2"},
    {"spl", "application/x-futuresplash"},
    {"dxf", "image/vnd.dxf"},
    {"tao", "application/vnd.tao.intent-module-archive"},
    {"spf", "application/vnd.yamaha.smaf-phrase"},
    {"yang", "application/yang"},
    {"sis", "application/vnd.symbian.install"},
    {"afm", "application/x-font-type1"},
    {"chrt", "application/vnd.kde.kchart"},
    {"csh", "application/x-csh"},
    {"sit", "application/x-stuffit"},
    {"rmvb", "application/vnd.rn-realmedia-vbr"},
    {"ogv", "video/ogg"},
    {"wax", "audio/x-ms-wax"},
    {"sig", "application/pgp-signature"},
    {"dwg", "image/vnd.dwg"},
    {"mj2", "video/mj2"},
    {"sid", "image/x-mrsid-image"},
    {"cst", "application/x-director"},
    {"xhtml", "application/xhtml+xml"},
    {"xm", "audio/xm"},
    {"afp", "application/vnd.ibm.modcap"},
    {"csp", "application/vnd.commonspace"},
    {"css", "text/css"},
    {"sil", "audio/silk"},
    {"snf", "application/x-font-snf"},
    {"pqa", "application/vnd.palm"},
    {"snd", "audio/basic"},
    {"mar", "application/octet-stream"},
    {"srt", "application/x-subrip"},
    {"spot", "text/vnd.in3d.spot"},
    {"spc", "application/x-pkcs7-certificates"},
    {"mesh", "model/mesh"},
    {"npx", "image/vnd.net-fpx"},
    {"mag", "application/vnd.ecowin.chart"},
    {"xvml", "application/xv+xml"},
    {"inkml", "application/inkml+xml"},
    {"fm", "application/vnd.framemaker"},
    {"man", "text/troff"},
    {"lha", "application/x-lzh-compressed"},
    {"st", "application/vnd.sailingtracker.track"},
    {"ghf", "application/vnd.groove-help"},
    {"mgp", "application/vnd.osgeo.mapguide.package"},
    {"so", "application/octet-stream"},
    {"sm", "application/vnd.stepmania.stepchart"},
    {"sc", "application/vnd.ibm.secure-container"},
    {"uvx", "application/vnd.dece.unspecified"},
    {"uvz", "application/vnd.dece.zip"},
    {"xhvml", "application/xv+xml"},
    {"mpp", "application/vnd.ms-project"},
    {"uvp", "video/vnd.dece.pd"},
    {"uvs", "video/vnd.dece.sd"},
    {"uvt", "application/vnd.dece.ttml+xml"},
    {"uvu", "video/vnd.uvvu.mp4"},
    {"jpeg", "image/jpeg"},
    {"mmr", "image/vnd.fujixerox.edmics-mmr"},
    {"uvh", "video/vnd.dece.hd"},
    {"uvi", "image/vnd.dece.graphic"},
    {"flv", "video/x-flv"},
    {"list3820", "application/vnd.ibm.modcap"},
    {"uvm", "video/vnd.dece.mobile"},
    {"ttl", "text/turtle"},
    {"ttc", "application/x-font-ttf"},
    {"uva", "audio/vnd.dece.audio"},
    {"uvd", "application/vnd.dece.data"},
    {"ttf", "application/x-font-ttf"},
    {"uvf", "application/vnd.dece.data"},
    {"xo", "application/vnd.olpc-sugar"},
    {"joda", "application/vnd.joost.joda-archive"},
    {"pcx", "image/x-pcx"},
    {"h263", "video/h263"},
    {"djv", "image/vnd.djvu"},
    {"tsd", "application/timestamped-data"},
    {"mbk", "application/vnd.mobius.mbk"},
    {"cla", "application/vnd.claymore"},
    {"pct", "image/x-pict"},
    {"wri", "application/x-mswrite"},
    {"imp", "application/vnd.accpac.simply.imp"},
    {"ims", "application/vnd.ms-ims"},
    {"xpm", "image/x-xpixmap"},
    {"vtu", "model/vnd.vtu"},
    {"fig", "application/x-xfig"},
    {"pcl", "application/vnd.hp-pcl"},
    {"gtw", "model/vnd.gtw"},
    {"tsv", "text/tab-separated-values"},
    {"dwf", "model/vnd.dwf"},
    {"silo", "model/mesh"},
    {"pcf", "application/x-font-pcf"},
    {"pptx", "application/vnd.openxmlformats-officedocument.presentationml.presentation"},
    {"mp2a", "audio/mpeg"},
    {"daf", "application/vnd.mobius.daf"},
    {"nsc", "application/x-conference"},
    {"mk3d", "video/x-matroska"},
    {"taglet", "application/vnd.mynfc"},
    {"mp4a", "audio/mp4"},
    {"mseed", "application/vnd.fdsn.mseed"},
    {"mxs", "application/vnd.triscape.mxs"},
    {"p10", "application/pkcs10"},
    {"karbon", "application/vnd.kde.karbon"},
    {"mxl", "application/vnd.recordare.musicxml"},
    {"cer", "application/pkix-cert"},
    {"docm", "application/vnd.ms-word.document.macroenabled.12"},
    {"mxf", "application/mxf"},
    {"qt", "video/quicktime"},
    {"hqx", "application/mac-binhex40"},
    {"pps", "application/vnd.ms-powerpoint"},
    {"kpr", "application/vnd.kde.kpresenter"},
    {"mods", "application/mods+xml"},
    {"kpt", "application/vnd.kde.kpresenter"},
    {"f4v", "video/x-f4v"},
    {"nfo", "text/x-nfo"},
    {"xlf", "application/x-xliff+xml"},
    {"xlc", "application/vnd.ms-excel"},
    {"xla", "application/vnd.ms-excel"},
    {"fpx", "image/vnd.fpx"},
    {"3ds", "image/x-3ds"},
    {"ifb", "text/calendar"},
    {"eml", "message/rfc822"},
    {"xlw", "application/vnd.ms-excel"},
    {"ifm", "application/vnd.shana.informed.formdata"},
    {"xlt", "application/vnd.ms-excel"},
    {"xls", "application/vnd.ms-excel"},
    {"csv", "text/csv"},
    {"atomcat", "application/atomcat+xml"},
    {"mets", "application/mets+xml"},
    {"mdi", "image/vnd.ms-modi"},
    {"uvvu", "video/vnd.uvvu.mp4"},
    {"dgc", "application/x-dgc-compressed"},
    {"mrcx", "application/marcxml+xml"},
    {"list", "text/plain"},
    {"x3dbz", "model/x3d+binary"},
    {"hlp", "application/winhlp"},
    {"gtar", "application/x-gtar"},
    {"ez", "application/andrew-inset"},
    {"mxml", "application/xv+xml"},
    {"dic", "text/x-c"},
    {"wqd", "application/vnd.wqd"},
    {"vcd", "application/x-cdlink"},
    {"rq", "application/sparql-query"},
    {"vcf", "text/x-vcard"},
    {"rs", "application/rls-services+xml"},
    {"res", "application/x-dtbresource+xml"},
    {"rep", "application/vnd.businessobjects"},
    {"cww", "application/prs.cww"},
    {"wgt", "application/widget"},
    {"ftc", "application/vnd.fluxtime.clip"},
    {"vcs", "text/x-vcalendar"},
    {"nitf", "application/vnd.nitf"},
    {"smi", "application/smil+xml"},
    {"3gp", "video/3gpp"},
    {"fti", "application/vnd.anser-web-funds-transfer-initiation"},
    {"rm", "application/vnd.rn-realmedia"},
    {"roff", "text/troff"},
    {"m2a", "audio/mpeg"},
    {"blb", "application/x-blorb"},
    {"dataless", "application/vnd.fdsn.seed"},
    {"crd", "application/x-mscardfile"},
    {"rld", "application/resource-lists-diff+xml"},
    {"cmx", "image/x-cmx"},
    {"p7r", "application/x-pkcs7-certreqresp"},
    {"pub", "application/x-mspublisher"},
    {"sh", "application/x-sh"},
    {"asc", "application/pgp-signature"},
    {"mime", "message/rfc822"},
    {"asf", "video/x-ms-asf"},
    {"org", "application/vnd.lotus-organizer"},
    {"mmf", "application/vnd.smaf"},
    {"aso", "application/vnd.accpac.simply.aso"},
    {"asm", "text/x-asm"},
    {"ntf", "application/vnd.nitf"},
    {"java", "text/x-java-source"},
    {"pkipath", "application/pkix-pkipath"},
    {"atc", "application/vnd.acucorp"},
    {"midi", "audio/midi"},
    {"potx", "application/vnd.openxmlformats-officedocument.presentationml.template"},
    {"m21", "application/mp21"},
    {"mvb", "application/x-msmediaview"},
    {"iso", "application/x-iso9660-image"},
    {"ltf", "application/vnd.frogans.ltf"},
    {"xul", "application/vnd.mozilla.xul+xml"},
    {"cdkey", "application/vnd.mediastation.cdkey"},
    {"gif", "image/gif"},
    {"atx", "application/vnd.antix.game-component"},
    {"uvva", "audio/vnd.dece.audio"},
    {"uvvg", "image/vnd.dece.graphic"},
    {"uvvf", "application/vnd.dece.data"},
    {"uvvd", "application/vnd.dece.data"},
    {"pgn", "application/x-chess-pgn"},
    {"uvvi", "image/vnd.dece.graphic"},
    {"pgm", "image/x-portable-graymap"},
    {"htke", "application/vnd.kenameaapp"},
    {"uvvm", "video/vnd.dece.mobile"},
    {"xz", "application/x-xz"},
    {"fh", "image/x-freehand"},
    {"uvvp", "video/vnd.dece.pd"},
    {"zaz", "application/vnd.zzazz.deck+xml"},
    {"uvvv", "video/vnd.dece.video"},
    {"pgp", "application/pgp-encrypted"},
    {"uvvt", "application/vnd.dece.ttml+xml"},
    {"rcprofile", "application/vnd.ipunplugged.rcprofile"},
    {"uvvx", "application/vnd.dece.unspecified"},
    {"x3dz", "model/x3d+xml"},
    {"gph", "application/vnd.flographit"},
    {"xif", "image/vnd.xiff"},
    {"kon", "application/vnd.kde.kontour"},
    {"yin", "application/yin+xml"},
    {"x3dv", "model/x3d+vrml"},
    {"ptid", "application/vnd.pvi.ptid1"},
    {"potm", "application/vnd.ms-powerpoint.template.macroenabled.12"},
    {"gpx", "application/gpx+xml"},
    {"svgz", "image/svg+xml"},
    {"cdxml", "application/vnd.chemdraw+xml"},
    {"iota", "application/vnd.astraea-software.iota"},
    {"ncx", "application/x-dtbncx+xml"},
    {"nbp", "application/vnd.wolfram.player"},
    {"tfi", "application/thraud+xml"},
    {"ogx", "application/ogg"},
    {"f90", "text/x-fortran"},
    {"rsd", "application/rsd+xml"},
    {"msl", "application/vnd.mobius.msl"},
    {"bcpio", "application/x-bcpio"},
    {"zirz", "application/vnd.zul"},
    {"onetoc2", "application/onenote"},
    {"cbz", "application/x-cbr"},
    {"p12", "application/x-pkcs12"},
    {"pnm", "image/x-portable-anymap"},
    {"wav", "audio/x-wav"},
    {"ogg", "audio/ogg"},
    {"oga", "audio/ogg"},
    {"png", "image/png"},
    {"rss", "application/rss+xml"},
    {"std", "application/vnd.sun.xml.draw.template"},
    {"onetmp", "application/onenote"},
    {"stf", "application/vnd.wt.stf"},
    {"ktx", "image/ktx"},
    {"ktz", "application/vnd.kahootz"},
    {"odft", "application/vnd.oasis.opendocument.formula-template"},
    {"stl", "application/vnd.ms-pki.stl"},
    {"dtb", "application/x-dtbook+xml"},
    {"sti", "application/vnd.sun.xml.impress.template"},
    {"ktr", "application/vnd.kahootz"},
    {"stk", "application/hyperstudio"},
    {"nzb", "application/x-nzb"},
    {"stw", "application/vnd.sun.xml.writer.template"},
    {"str", "application/vnd.pg.format"},
    {"dts", "audio/vnd.dts"},
    {"fe_launch", "application/vnd.denovo.fcselayout-link"},
    {"h", "text/x-c"},
    {"torrent", "application/x-bittorrent"},
    {"mov", "video/quicktime"},
    {"ecelp9600", "audio/vnd.nuera.ecelp9600"},
    {"pre", "application/vnd.lotus-freelance"},
    {"tfm", "application/x-tex-tfm"},
    {"prf", "application/pics-rules"},
    {"n-gage", "application/vnd.nokia.n-gage.symbian.install"},
    {"prc", "application/x-mobipocket-ebook"},
    {"ram", "audio/x-pn-realaudio"},
    {"saf", "application/vnd.yamaha.smaf-audio"},
    {"seed", "application/vnd.fdsn.seed"},
    {"lbe", "application/vnd.llamagraphics.life-balance.exchange+xml"},
    {"lbd", "application/vnd.llamagraphics.life-balance.desktop"},
    {"qps", "application/vnd.publishare-delta-tree"},
    {"atomsvc", "application/atomsvc+xml"},
    {"7z", "application/x-7z-compressed"},
    {"mseq", "application/vnd.mseq"},
    {"rmi", "audio/midi"},
    {"bz2", "application/x-bzip2"},
    {"3dml", "text/vnd.in3d.3dml"},
    {"ngdat", "application/vnd.nokia.n-gage.data"},
    {"mie", "application/x-mie"},
    {"fxp", "application/vnd.adobe.fxp"},
    {"teicorpus", "application/tei+xml"},
    {"listafp", "application/vnd.ibm.modcap"},
    {"z1", "application/x-zmachine"},
    {"stc", "application/vnd.sun.xml.calc.template"},
    {"meta4", "application/metalink4+xml"},
    {"aifc", "audio/x-aiff"},
    {"3g2", "video/3gpp2"},
    {"wcm", "application/vnd.ms-works"},
    {"csml", "chemical/x-csml"},
    {"fcs", "application/vnd.isac.fcs"},
    {"xdssc", "application/dssc+xml"},
    {"deploy", "application/octet-stream"},
    {"sfv", "text/x-sfv"},
    {"rpst", "application/vnd.nokia.radio-preset"},
    {"sfs", "application/vnd.spotfire.sfs"},
    {"pyv", "video/vnd.ms-playready.media.pyv"},
    {"pptm", "application/vnd.ms-powerpoint.presentation.macroenabled.12"},
    {"kar", "audio/midi"},
    {"mpeg", "video/mpeg"},
    {"sisx", "application/vnd.symbian.install"},
    {"pya", "audio/vnd.ms-playready.media.pya"},
    {"bh2", "application/vnd.fujitsu.oasysprs"},
    {"class", "application/java-vm"},
    {"epub", "application/epub+zip"},
    {"latex", "application/x-latex"},
    {"exe", "application/x-msdownload"},
    {"doc", "application/msword"},
    {"tpl", "application/vnd.groove-tool-template"},
    {"uri", "text/uri-list"},
    {"exi", "application/exi"},
    {"ext", "application/vnd.novadigm.ext"},
    {"tpt", "application/vnd.trid.tpt"},
    {"efif", "application/vnd.picsel"},
    {"movie", "video/x-sgi-movie"},
    {"dot", "application/msword"},
    {"qbo", "application/vnd.intu.qbo"},
    {"dbk", "application/docbook+xml"},
    {"rtf", "application/rtf"},
    {"nlu", "application/vnd.neurolanguage.nlu"},
    {"text", "text/plain"},
    {"sdc", "application/vnd.stardivision.calc"},
    {"pskcxml", "application/pskc+xml"},
    {"texi", "application/x-texinfo"},
    {"pkg", "application/octet-stream"},
    {"itp", "application/vnd.shana.informed.formtemplate"},
    {"pki", "application/pkixcmp"},
    {"cdx", "chemical/x-cdx"},
    {"cdy", "application/vnd.cinderella"},
    {"xml", "application/xml"},
    {"ksp", "application/vnd.kde.kspread"},
    {"jar", "application/java-archive"},
    {"mp21", "application/mp21"},
    {"jam", "application/vnd.jam"},
    {"jad", "text/vnd.sun.j2me.app-descriptor"},
    {"ief", "image/ief"},
    {"xdf", "application/xcap-diff+xml"},
    {"xdm", "application/vnd.syncml.dm+xml"},
    {"gex", "application/vnd.geometry-explorer"},
    {"cpio", "application/x-cpio"},
    {"p", "text/x-pascal"},
    {"omdoc", "application/omdoc+xml"},
    {"xdw", "application/vnd.fujixerox.docuworks"},
    {"123", "application/vnd.lotus-1-2-3"},
    {"uvv", "video/vnd.dece.video"},
    {"chat", "application/x-chat"},
    {"xdp", "application/vnd.adobe.xdp+xml"},
    {"sse", "application/vnd.kodak-descriptor"},
    {"mgz", "application/vnd.proteus.magazine"},
    {"ssf", "application/vnd.epson.ssf"},
    {"geo", "application/vnd.dynageo"},
    {"dp", "application/vnd.osgi.dp"},
    {"cif", "chemical/x-cif"},
    {"musicxml", "application/vnd.recordare.musicxml+xml"},
    {"aep", "application/vnd.audiograph"},
    {"bat", "application/x-msdownload"},
    {"emf", "application/x-msmetafile"},
    {"smzip", "application/vnd.stepmania.package"},
    {"aac", "audio/x-aac"},
    {"crt", "application/x-x509-ca-cert"},
    {"oxt", "application/vnd.openofficeorg.extension"},
    {"scd", "application/x-msschedule"},
    {"metalink", "application/metalink+xml"},
    {"dpg", "application/vnd.dpgraph"},
    {"aam", "application/x-authorware-map"},
    {"gbr", "application/rpki-ghostbusters"},
    {"gram", "application/srgs"},
    {"shf", "application/shf+xml"},
    {"crl", "application/pkix-crl"},
    {"emz", "application/x-msmetafile"},
    {"rms", "application/vnd.jcp.javame.midlet-rms"},
    {"rmp", "audio/x-pn-realaudio-plugin"},
    {"ser", "application/java-serialized-object"},
    {"dump", "application/octet-stream"},
    {"fg5", "application/vnd.fujitsu.oasysgp"},
    {"frame", "application/vnd.framemaker"},
    {"vis", "application/vnd.visionary"},
    {"dmg", "application/x-apple-diskimage"},
    {"see", "application/vnd.seemail"},
    {"pvb", "application/vnd.3gpp.pic-bw-var"},
    {"hpgl", "application/vnd.hp-hpgl"},
    {"lnk", "application/x-ms-shortcut"},
    {"cryptonote", "application/vnd.rig.cryptonote"},
    {"dtd", "application/xml-dtd"},
    {"susp", "application/vnd.sus-calendar"},
    {"cmp", "application/vnd.yellowriver-custom-menu"},
    {"et3", "application/vnd.eszigno3+xml"},
    {"uris", "text/uri-list"},
    {"mus", "application/vnd.musician"},
    {"irp", "application/vnd.irepository.package+xml"},
    {"gramps", "application/x-gramps-xml"},
    {"osfpvg", "application/vnd.yamaha.openscoreformat.osfpvg+xml"},
    {"xvm", "application/xv+xml"},
    {"irm", "application/vnd.ibm.rights-management"},
    {"otc", "application/vnd.oasis.opendocument.chart-template"},
    {"uvg", "image/vnd.dece.graphic"},
    {"wg", "application/vnd.pmi.widget"},
    {"cdmia", "application/cdmi-capability"},
    {"cdmic", "application/cdmi-container"},
    {"cdmid", "application/cdmi-domain"},
    {"bed", "application/vnd.realvnc.bed"},
    {"xslt", "application/xslt+xml"},
    {"h264", "video/h264"},
    {"boz", "application/x-bzip2"},
    {"wm", "video/x-ms-wm"},
    {"f77", "text/x-fortran"},
    {"cdmio", "application/cdmi-object"},
    {"cdmiq", "application/cdmi-queue"},
    {"wtb", "application/vnd.webturbo"},
    {"vcx", "application/vnd.vcx"},
    {"fgd", "application/x-director"},
    {"js", "application/javascript"},
    {"pcap", "application/vnd.tcpdump.pcap"},
    {"xwd", "image/x-xwindowdump"},
    {"c", "text/x-c"},
    {"qfx", "application/vnd.intu.qfx"},
    {"adp", "audio/adpcm"},
    {"etx", "text/x-setext"},
    {"xlam", "application/vnd.ms-excel.addin.macroenabled.12"},
    {"s", "text/x-asm"},
    {"fnc", "application/vnd.frogans.fnc"},
    {"cod", "application/vnd.rim.cod"},
    {"urls", "text/uri-list"},
    {"pdf", "application/pdf"},
    {"com", "application/x-msdownload"},
    {"pdb", "application/vnd.palm"},
    {"ecma", "application/ecmascript"},
    {"xltm", "application/vnd.ms-excel.template.macroenabled.12"},
    {"gxf", "application/gxf"},
    {"cxt", "application/x-director"},
    {"kwd", "application/vnd.kde.kword"},
    {"cc", "text/x-c"},
    {"pot", "application/vnd.ms-powerpoint"},
    {"kfo", "application/vnd.kde.kformula"},
    {"hvd", "application/vnd.yamaha.hv-dic"},
    {"gtm", "application/vnd.groove-tool-message"},
    {"gxt", "application/vnd.geonext"},
    {"m13", "application/x-msmediaview"},
    {"cba", "application/x-cbr"},
    {"xltx", "application/vnd.openxmlformats-officedocument.spreadsheetml.template"},
    {"kwt", "application/vnd.kde.kword"},
    {"hvp", "application/vnd.yamaha.hv-voice"},
    {"hvs", "application/vnd.yamaha.hv-script"},
    {"cu", "application/cu-seeme"},
    {"ppsx", "application/vnd.openxmlformats-officedocument.presentationml.slideshow"},
    {"swi", "application/vnd.aristanetworks.swi"},
    {"ps", "application/postscript"},
    {"sv4crc", "application/x-sv4crc"},
    {"dotx", "application/vnd.openxmlformats-officedocument.wordprocessingml.template"},
    {"ei6", "application/vnd.pg.osasli"},
    {"swa", "application/x-director"},
    {"xar", "application/vnd.xara"},
    {"dis", "application/vnd.mobius.dis"},
    {"swf", "application/x-shockwave-flash"},
    {"json", "application/json"},
    {"hpid", "application/vnd.hp-hpid"},
    {"oth", "application/vnd.oasis.opendocument.text-web"},
    {"oti", "application/vnd.oasis.opendocument.image-template"},
    {"nnd", "application/vnd.noblenet-directory"},
    {"rp9", "application/vnd.cloanto.rp9"},
    {"mcd", "application/vnd.mcd"},
    {"sldx", "application/vnd.openxmlformats-officedocument.presentationml.slide"},
    {"otf", "application/x-font-otf"},
    {"otg", "application/vnd.oasis.opendocument.graphics-template"},
    {"gam", "application/x-tads"},
    {"xlsm", "application/vnd.ms-excel.sheet.macroenabled.12"},
    {"m1v", "video/mpeg"},
    {"sldm", "application/vnd.ms-powerpoint.slide.macroenabled.12"},
    {"xlsb", "application/vnd.ms-excel.sheet.binary.macroenabled.12"},
    {"gac", "application/vnd.groove-account"},
    {"dotm", "application/vnd.ms-word.template.macroenabled.12"},
    {"cbr", "application/x-cbr"},
    {"slt", "application/vnd.epson.salt"},
    {"ait", "application/vnd.dvb.ait"},
    {"p8", "application/pkcs8"},
    {"air", "application/vnd.adobe.air-application-installer-package+zip"},
    {"hdf", "application/x-hdf"},
    {"mlp", "application/vnd.dolby.mlp"},
    {"sdkd", "application/vnd.solent.sdkm+xml"},
    {"mpg4", "video/mp4"},
    {"rar", "application/x-rar-compressed"},
    {"aif", "audio/x-aiff"},
    {"mbox", "application/mbox"},
    {"sdkm", "application/vnd.solent.sdkm+xml"},
    {"ras", "image/x-cmu-raster"},
    {"ami", "application/vnd.amiga.ami"},
    {"jpm", "video/jpm"},
    {"cbt", "application/x-cbr"},
    {"vob", "video/x-ms-vob"},
    {"dae", "model/vnd.collada+xml"},
    {"sxw", "application/vnd.sun.xml.writer"},
    {"jpe", "image/jpeg"},
    {"docx", "application/vnd.openxmlformats-officedocument.wordprocessingml.document"},
    {"rip", "audio/vnd.rip"},
    {"sitx", "application/x-stuffitx"},
    {"ivu", "application/vnd.immervision-ivu"},
    {"ivp", "application/vnd.immervision-ivp"},
    {"jpgv", "video/jpeg"},
    {"vor", "application/vnd.stardivision.writer"},
    {"in", "text/plain"},
    {"rif", "application/reginfo+xml"},
    {"wks", "application/vnd.ms-works"},
    {"vox", "application/x-authorware-bin"},
    {"shar", "application/x-shar"},
    {"wmx", "video/x-ms-wmx"},
    {"pas", "text/x-pascal"},
    {"blorb", "application/x-blorb"},
    {"paw", "application/vnd.pawaafile"},
    {"psb", "application/vnd.3gpp.pic-bw-small"},
    {"html", "text/html"},
    {"wspolicy", "application/wspolicy+xml"},
    {"qam", "application/vnd.epson.quickanime"},
    {"texinfo", "application/x-texinfo"},
    {"gnumeric", "application/x-gnumeric"},
    {"vsd", "application/vnd.visio"},
    {"mxu", "video/vnd.mpegurl"},
    {"x3dvz", "model/x3d+vrml"},
    {"jsonml", "application/jsonml+json"},
    {"xbap", "application/x-ms-xbap"},
    {"wps", "application/vnd.ms-works"},
    {"wpl", "application/vnd.ms-wpl"},
    {"unityweb", "application/vnd.unity"},
    {"ecelp7470", "audio/vnd.nuera.ecelp7470"},
    {"wpd", "application/vnd.wordperfect"},
    {"kia", "application/vnd.kidspiration"},
    {"mobi", "application/x-mobipocket-ebook"},
    {"opml", "text/x-opml"},
    {"lzh", "application/x-lzh-compressed"},
    {"cct", "application/x-director"},
    {"kne", "application/vnd.kinar"},
    {"eps", "application/postscript"},
    {"log", "text/plain"},
    {"gsf", "application/x-font-ghostscript"},
    {"cdbcmsg", "application/vnd.contact.cmsg"},
    {"wmlc", "application/vnd.wap.wmlc"},
    {"knp", "application/vnd.kinar"},
    {"i2g", "application/vnd.intergeo"},
    {"mp4v", "video/mp4"},
    {"mp4s", "application/mp4"},
    {"evy", "application/x-envoy"},
    {"aiff", "audio/x-aiff"},
    {"davmount", "application/davmount+xml"},
    {"mfm", "application/vnd.mfmp"},
    {"mid", "audio/midi"},
    {"ecelp4800", "audio/vnd.nuera.ecelp4800"},
    {"tcl", "application/x-tcl"},
    {"mft", "application/rpki-manifest"},
    {"xer", "application/patch-ops-error+xml"},
    {"mif", "application/vnd.mif"},
    {"gdl", "model/vnd.gdl"},
    {"msty", "application/vnd.muvee.style"},
    {"skt", "application/vnd.koan"},
    {"hal", "application/vnd.hal+xml"},
    {"skp", "application/vnd.koan"},
    {"g3w", "application/vnd.geospace"},
    {"gml", "application/gml+xml"},
    {"elc", "application/octet-stream"},
    {"dtshd", "audio/vnd.dts.hd"},
    {"m4v", "video/x-m4v"},
    {"m4u", "video/vnd.mpegurl"},
    {"skd", "application/vnd.koan"},
    {"rgb", "image/x-rgb"},
    {"gmx", "application/vnd.gmx"},
    {"ipk", "application/vnd.shana.informed.package"},
    {"skm", "application/vnd.koan"},
    {"ccxml", "application/ccxml+xml"},
    {"fvt", "video/vnd.fvt"},
    {"xenc", "application/xenc+xml"},
    {"bin", "application/octet-stream"},
    {"dsc", "text/prs.lines.tag"},
    {"ufdl", "application/vnd.ufdl"},
    {"rnc", "application/relax-ng-compact-syntax"},
    {"qwd", "application/vnd.quark.quarkxpress"},
    {"psf", "application/x-font-linux-psf"},
    {"xlm", "application/vnd.ms-excel"},
    {"lostxml", "application/lost+xml"},
    {"dart", "application/vnd.dart"},
    {"opf", "application/oebps-package+xml"},
    {"ra", "audio/x-pn-realaudio"},
    {"ustar", "application/x-ustar"},
    {"qwt", "application/vnd.quark.quarkxpress"},
    {"tif", "image/tiff"},
    {"c11amz", "application/vnd.cluetrust.cartomobile-config-pkg"},
    {"qxb", "application/vnd.quark.quarkxpress"},
    {"emma", "application/emma+xml"},
    {"wbs", "application/vnd.criticaltools.wbs+xml"},
    {"qxd", "application/vnd.quark.quarkxpress"},
    {"acutc", "application/vnd.acucorp"},
    {"oprc", "application/vnd.palm"},
    {"semf", "application/vnd.semf"},
    {"bpk", "application/octet-stream"},
    {"semd", "application/vnd.semd"},
    {"qxl", "application/vnd.quark.quarkxpress"},
    {"dvb", "video/vnd.dvb.file"},
    {"arc", "application/x-freearc"},
    {"tga", "image/x-tga"},
    {"t", "text/troff"},
    {"qxt", "application/vnd.quark.quarkxpress"},
    {"viv", "video/vnd.vivo"},
    {"c11amc", "application/vnd.cluetrust.cartomobile-config"},
    {"mkv", "video/x-matroska"},
    {"xsl", "application/xml"},
    {"xsm", "application/vnd.syncml+xml"},
    {"scurl", "text/vnd.curl.scurl"},
    {"jlt", "application/vnd.hp-jlyt"},
    {"vss", "application/vnd.visio"},
    {"vst", "application/vnd.visio"},
    {"vsw", "application/vnd.visio"},
    {"webm", "video/webm"},
    {"webp", "image/webp"},
    {"sxg", "application/vnd.sun.xml.writer.global"},
    {"sema", "application/vnd.sema"},
    {"vsf", "application/vnd.vsf"},
    {"udeb", "application/x-debian-package"},
    {"psd", "image/vnd.adobe.photoshop"},
    {"umj", "application/vnd.umajin"},
    {"ico", "image/x-icon"},
    {"icm", "application/vnd.iccprofile"},
    {"icc", "application/vnd.iccprofile"},
    {"kml", "application/vnd.google-earth.kml+xml"},
    {"ice", "x-conference/x-cooltalk"},
    {"n3", "text/n3"},
    {"esf", "application/vnd.epson.esf"},
    {"cgm", "image/cgm"},
    {"aab", "application/x-authorware-bin"},
    {"mc1", "application/vnd.medcalcdata"},
    {"esa", "application/vnd.osgi.subsystem"},
    {"ics", "text/calendar"},
    {"kmz", "application/vnd.google-earth.kmz"},
    {"s3m", "audio/s3m"},
    {"ddd", "application/vnd.fujixerox.ddd"},
    {"jnlp", "application/x-java-jnlp-file"},
    {"pls", "application/pls+xml"},
    {"m3u8", "application/vnd.apple.mpegurl"},
    {"ufd", "application/vnd.ufdl"},
    {"x3db", "model/x3d+binary"},
    {"ez2", "application/vnd.ezpix-album"},
    {"ez3", "application/vnd.ezpix-package"},
    {"plf", "application/vnd.pocketlearn"},
    {"mpga", "audio/mpeg"},
    {"plc", "application/vnd.mobius.plc"},
    {"plb", "application/vnd.3gpp.pic-bw-large"},
    {"twds", "application/vnd.simtech-mindmapper"},
    {"c4p", "application/vnd.clonk.c4group"},
    {"nml", "application/vnd.enliven"},
    {"iges", "model/iges"},
    {"dcr", "application/x-director"},
    {"bz", "application/x-bzip"},
    {"acc", "application/vnd.americandynamics.acc"},
    {"src", "application/x-wais-source"},
    {"ppm", "image/x-portable-pixmap"},
    {"es3", "application/vnd.eszigno3+xml"},
    {"zip", "application/zip"},
    {"ace", "application/x-ace-compressed"},
    {"uvvh", "video/vnd.dece.hd"},
    {"dd2", "application/vnd.oma.dd2+xml"},
    {"obd", "application/x-msbinder"},
    {"cmdf", "chemical/x-cmdf"},
    {"wmlsc", "application/vnd.wap.wmlscriptc"},
    {"xap", "application/x-silverlight-app"},
    {"acu", "application/vnd.acucobol"},
    {"sru", "application/sru+xml"},
    {"srx", "application/sparql-results+xml"},
    {"book", "application/vnd.framemaker"},
    {"clkk", "application/vnd.crick.clicker.keyboard"},
    {"ppd", "application/vnd.cups-ppd"},
    {"tiff", "image/tiff"},
    {"xyz", "chemical/x-xyz"},
    {"pcurl", "application/vnd.curl.pcurl"},
    {"cpp", "text/x-c"},
    {"nsf", "application/vnd.lotus-notes"},
    {"clkx", "application/vnd.crick.clicker"},
    {"weba", "audio/webm"},
    {"ppt", "application/vnd.ms-powerpoint"},
    {"clkp", "application/vnd.crick.clicker.palette"},
    {"dfac", "application/vnd.dreamfactory"},
    {"clkt", "application/vnd.crick.clicker.template"},
    {"djvu", "image/vnd.djvu"},
    {"clkw", "application/vnd.crick.clicker.wordbank"},
    {"xpi", "application/x-xpinstall"},
    {"w3d", "application/x-director"},
    {"mka", "audio/x-matroska"},
    {"xpl", "application/xproc+xml"},
    {"fzs", "application/vnd.fuzzysheet"},
    {"ppam", "application/vnd.ms-powerpoint.addin.macroenabled.12"},
    {"wad", "application/x-doom"},
    {"setpay", "application/set-payment-initiation"},
    {"pic", "image/x-pict"},
    {"mdb", "application/x-msaccess"},
    {"xpx", "application/vnd.intercon.formnet"},
    {"mks", "video/x-matroska"},
    {"fcdt", "application/vnd.adobe.formscentral.fcdt"},
    {"smil", "application/smil+xml"},
    {"xps", "application/vnd.ms-xpsdocument"},
    {"xpr", "application/vnd.is-xpr"},
    {"gim", "application/vnd.groove-identity-message"},
    {"xpw", "application/vnd.intercon.formnet"},
    {"wmls", "text/vnd.wap.wmlscript"},
    {"sdw", "application/vnd.stardivision.writer"},
    {"sdp", "application/sdp"},
    {"ipfix", "application/ipfix"},
    {"sdd", "application/vnd.stardivision.impress"},
    {"hh", "text/x-c"},
    {"sda", "application/vnd.stardivision.draw"},
    {"atom", "application/atom+xml"},
    {"pwn", "application/vnd.3m.post-it-notes"},
    {"mscml", "application/mediaservercontrol+xml"},
    {"sv4cpio", "application/x-sv4cpio"},
    {"mathml", "application/mathml+xml"},
    {"m14", "application/x-msmediaview"},
    {"lvp", "audio/vnd.lucent.voice"},
    {"fdf", "application/vnd.fdf"},
    {"uu", "text/x-uuencode"},
    {"mts", "model/vnd.mts"},
    {"cii", "application/vnd.anser-web-certificate-issue-initiation"},
    {"sgml", "text/sgml"},
    {"azf", "application/vnd.airzip.filesecure.azf"},
    {"cil", "application/vnd.ms-artgalry"},
    {"dmp", "application/vnd.tcpdump.pcap"},
    {"dms", "application/octet-stream"},
    {"clp", "application/x-msclip"},
    {"mads", "application/mads+xml"},
    {"svg", "image/svg+xml"},
    {"utz", "application/vnd.uiq.theme"},
    {"odt", "application/vnd.oasis.opendocument.text"},
    {"oxps", "application/oxps"},
    {"azs", "application/vnd.airzip.filesecure.azs"},
    {"uvvs", "video/vnd.dece.sd"},
    {"azw", "application/vnd.amazon.ebook"},
    {"ac", "application/pkix-attr-cert"},
    {"sxc", "application/vnd.sun.xml.calc"},
    {"sxd", "application/vnd.sun.xml.draw"},
    {"p7s", "application/pkcs7-signature"},
    {"xlsx", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},
    {"ai", "application/postscript"},
    {"sxi", "application/vnd.sun.xml.impress"},
    {"grxml", "application/srgs+xml"},
    {"sxm", "application/vnd.sun.xml.math"},
    {"dssc", "application/dssc+der"},
    {"ppsm", "application/vnd.ms-powerpoint.slideshow.macroenabled.12"},
    {"fly", "text/vnd.fly"},
    {"gca", "application/x-gca-compressed"},
    {"p7b", "application/x-pkcs7-certificates"},
    {"p7c", "application/pkcs7-mime"},
    {"aw", "application/applixware"},
    {"ink", "application/inkml+xml"},
    {"nnw", "application/vnd.noblenet-web"},
    {"curl", "text/vnd.curl"},
    {"p7m", "application/pkcs7-mime"},
    {"nns", "application/vnd.noblenet-sealer"},
    {"uoml", "application/vnd.uoml+xml"},
    {"grv", "application/vnd.groove-injector"},
    {"xbm", "image/x-xbitmap"},
    {"igs", "model/iges"},
    {"hps", "application/vnd.hp-hps"},
    {"nb", "application/mathematica"},
    {"nc", "application/x-netcdf"},
    {"igx", "application/vnd.micrografx.igx"},
    {"application", "application/x-ms-application"},
    {"h261", "video/h261"},
    {"gre", "application/vnd.geometry-explorer"},
    {"oas", "application/vnd.fujitsu.oasys"},
    {"fst", "image/vnd.fst"},
    {"igm", "application/vnd.insors.igm"},
    {"igl", "application/vnd.igloader"},
    {"vrml", "model/vrml"},
    {"bmi", "application/vnd.bmi"},
    {"btif", "image/prs.btif"},
    {"x3d", "model/x3d+xml"},
    {"ssml", "application/ssml+xml"},
    {"cb7", "application/x-cbr"},
    {"sql", "application/x-sql"},
    {"link66", "application/vnd.route66.link66+xml"},
    {"au", "audio/basic"},
    {"fsc", "application/vnd.fsc.weblaunch"},
    {"dvi", "application/x-dvi"},
    {"for", "text/x-fortran"},
    {"ssdl", "application/ssdl+xml"},
    {"cpt", "application/mac-compactpro"},
    {"svd", "application/vnd.svd"},
    {"vcg", "application/vnd.groove-vcard"},
    {"svc", "application/vnd.dvb.service"},
    {"portpkg", "application/vnd.macports.portpkg"},
    {"eol", "audio/vnd.digital-winds"},
    {"bmp", "image/bmp"},
    {"iif", "application/vnd.shana.informed.interchange"},
    {"oa3", "application/vnd.fujitsu.oasys3"},
    {"oa2", "application/vnd.fujitsu.oasys2"},
    {"eot", "application/vnd.ms-fontobject"},
    {"onetoc", "application/onenote"},
    {"xbd", "application/vnd.fujixerox.docuworks.binder"},
    {"mrc", "application/marc"},
    {"sbml", "application/sbml+xml"},
    {"m2v", "video/mpeg"}};

static std::string get_extension(const std::string &path) {
    // Determine the file extension.
    std::size_t last_slash_pos = path.find_last_of("/");
    std::size_t last_dot_pos = path.find_last_of(".");
    std::string extension;

    if (last_dot_pos != std::string::npos && last_dot_pos > last_slash_pos) {
        extension = path.substr(last_dot_pos + 1);
    }
    return extension;
}

static std::string exec(const std::string &cmd) {
    std::unique_ptr<FILE, std::function<void(FILE *)>> pipe(popen(cmd.c_str(), "r"), pclose);
    if (!pipe)
        return "";
    char buffer[128];
    std::string result = "";
    while (!feof(pipe.get())) {
        if (fgets(buffer, 128, pipe.get()) != NULL)
            result += buffer;
    }
    return result;
}

static std::string shell_get_mimetype(const std::string &p) noexcept {
    std::string cmd = "file --mime-type " + p;

    auto output = exec(cmd);
    while (output.size() && std::isspace(output.back()))
        output = output.substr(0, output.size() - 1);
    auto c = output.find_first_of(':');
    if (c != std::string::npos && output.size() > ++c)
        return output.substr(c + 1);
    return "text/plain";
}

std::string get_mime_type(const std::string &path) {
    auto ext = get_extension(path);
    if (ext != "") {
        auto it = mappings.find(ext);
        if (it != mappings.end())
            return it->second;
    }
    return shell_get_mimetype(path);
}

} // namespace mime_types
} // namespace server3
} // namespace http
